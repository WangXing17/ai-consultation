# å¿«é€Ÿå®‰è£…å‘½ä»¤ï¼ˆä»…å¤åˆ¶ç²˜è´´ï¼‰

## 1ï¸âƒ£ å®‰è£…Pythonä¾èµ–

```bash
cd /Users/mengzhifang/Mypro/ai/ai-chat/rag
pip install fastapi uvicorn[standard] python-multipart pymilvus jieba rank-bm25
```

## 2ï¸âƒ£ é…ç½®ç¯å¢ƒå˜é‡

```bash
cp .env.example .env
```

ç„¶åç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„é…ç½®ï¼š
- `OPENAI_API_KEY`ï¼šä½ çš„OpenAI APIå¯†é’¥
- å…¶ä»–ä¿æŒé»˜è®¤å³å¯

## 3ï¸âƒ£ å¯åŠ¨Milvusï¼ˆDockerï¼‰

```bash
# åˆ›å»ºç›®å½•
mkdir -p ~/milvus_data && cd ~/milvus_data

# ä¸‹è½½é…ç½®æ–‡ä»¶
wget https://github.com/milvus-io/milvus/releases/download/v2.3.0/milvus-standalone-docker-compose.yml -O docker-compose.yml

# å¯åŠ¨Milvus
docker-compose up -d
```

## 4ï¸âƒ£ å¯åŠ¨Redisï¼ˆDockerï¼‰

```bash
docker run -d --name redis-rag -p 6379:6379 redis:latest
```

## 5ï¸âƒ£ å›åˆ°é¡¹ç›®ç›®å½•å¹¶æ„å»ºçŸ¥è¯†åº“

```bash
cd /Users/mengzhifang/Mypro/ai/ai-chat/rag
python -c "from knowledge_base import KnowledgeBase; kb = KnowledgeBase(); kb.build_knowledge_base('data/medical_knowledge.json')"
```

## 6ï¸âƒ£ å¯åŠ¨æœåŠ¡

```bash
python main.py
```

## 7ï¸âƒ£ æ‰“å¼€æµè§ˆå™¨æµ‹è¯•

è®¿é—®ï¼šhttp://localhost:8000/static/index.html

---

## ğŸ‰ å®Œæˆï¼

å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œä½ ç°åœ¨å¯ä»¥åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨RAGæ™ºèƒ½é—®è¯ŠåŠ©æ‰‹äº†ï¼

## ğŸ“ å¸¸ç”¨å‘½ä»¤

**æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼š**
```bash
# æ£€æŸ¥Milvus
docker ps | grep milvus

# æ£€æŸ¥Redis
docker ps | grep redis
```

**åœæ­¢æœåŠ¡ï¼š**
```bash
# åœæ­¢Milvus
cd ~/milvus_data && docker-compose down

# åœæ­¢Redis
docker stop redis-rag
```

**é‡å¯æœåŠ¡ï¼š**
```bash
# é‡å¯Milvus
cd ~/milvus_data && docker-compose restart

# é‡å¯Redis
docker restart redis-rag
```

**æŸ¥çœ‹æ—¥å¿—ï¼š**
```bash
# Milvusæ—¥å¿—
docker logs milvus-standalone

# Redisæ—¥å¿—
docker logs redis-rag
```
